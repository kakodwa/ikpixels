{% extends 'core/base.html' %}
{% load static %}

{% block content %}
<!-- Product Detail Page -->


<section class="gradient-bg pt-20 pb-16">
                 <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 pt-16">
                   <div class="text-center">
                        <h1 class="text-4xl md:text-6xl font-bold text-white mb-6">
                            {{product.title}}
                        </h1>
                    </div>
                </div>
            </section>


<div id="product-detail-page" class="page-content">
    <div class="pt-20">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16">
           
            <div id="product-detail-content">
                <div class="grid lg:grid-cols-2 gap-12">
                    <!-- Left Column: Images -->
                    <div>
                        <div class="h-96 bg-gradient-to-br rounded-2xl mb-6" style="background: url('{{ product.image.url }}') center/cover no-repeat;"></div>
                        <div class="grid grid-cols-2 gap-4">
                            <div class="h-24 bg-gradient-to-br rounded-lg opacity-75" style="background: url('{{ product.image.url }}') center/cover no-repeat;"></div>
                            <div class="h-24 bg-gradient-to-br rounded-lg opacity-50" style="background: url('{{ product.image.url }}') center/cover no-repeat;"></div>
                        </div>
                    </div>

                    <!-- Right Column: Details -->
                    <div>
                        <!-- Category and Rating -->
                        <div class="flex items-center gap-2 mb-4">
                            <span class="bg-purple-100 text-purple-800 text-sm px-3 py-1 rounded-full capitalize">{{ product.category }}</span>
                            <div class="flex items-center">
                                <div class="flex text-yellow-400 text-sm">
                                    {% for i in "12345"|slice:":5" %}
                                        {% if forloop.counter <= product.rating|floatformat:0 %}
                                            ★
                                        {% else %}
                                            ☆
                                        {% endif %}
                                    {% endfor %}
                                </div>
                                <span class="text-gray-500 text-sm ml-2">{{ product.rating }} ({{ product.reviews }} reviews)</span>
                            </div>
                        </div>

                        <!-- Title & Description -->
                        <h1 class="text-3xl font-bold text-gray-900 mb-4">{{ product.title }}</h1>
                        <p class="text-gray-600 mb-6 text-lg">{{ product.description }}</p>

                        <!-- Key Features -->
                        <div class="mb-6">
                            <h3 class="text-xl font-semibold text-gray-900 mb-3">Key Features</h3>
                            <ul class="space-y-2">
                                {% for feature in product.key_features.splitlines %}
                                    <li class="flex items-center text-gray-700">
                                        <svg class="w-5 h-5 text-green-500 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
                                        </svg>
                                        {{ feature }}
                                    </li>
                                {% endfor %}
                            </ul>
                        </div>

                        <!-- Technologies Used -->
                        <div class="mb-6">
                            <h3 class="text-xl font-semibold text-gray-900 mb-3">Technologies Used</h3>
                            <div class="flex flex-wrap gap-2">
                                {% for tech in technologies %}
                                    <span class="bg-blue-100 text-blue-800 text-sm px-3 py-1 rounded-full">{{ tech }}</span>
                                {% endfor %}
                            </div>
                        </div>

                        <!-- Purchase Section -->
                        <div class="border-t pt-6">
                            <div class="flex items-center justify-between mb-6">
                                <div>
                                    <span class="text-3xl font-bold text-green-600">MK{{ product.price }}</span>
                                    <span class="text-gray-500 ml-2">One-time purchase</span>
                                </div>
                            </div>

                            <div class="flex gap-4">


                                {% if product.booked == True%}
                                <button class="flex-1 bg-purple-600 text-white py-3 px-6 rounded-lg hover:bg-purple-700 transition-colors font-semibold">
                                    Sold
                                </button>
                                {% else %}
                                 <button
                                 onclick="purchaseProduct(this)"
                                 data-id="{{ product.id }}"
                                 data-title="{{ product.title|escapejs }}"
                                 data-price="{{ product.price }}"
                                 class="flex-1 bg-purple-600 text-white py-3 px-6 rounded-lg hover:bg-purple-700 transition-colors font-semibold">Purchase Now
                                 </button>                       
                                 {% endif %}

                                {% if product.demo_url %}
                                    <a href="{{ product.demo_url }}" target="_blank" class="border-2 border-purple-600 text-purple-600 py-3 px-6 rounded-lg hover:bg-purple-50 transition-colors font-semibold text-center">
                                        Live Demo
                                    </a>
                                {% endif %}
                            </div>

                            <div class="mt-4 text-center">
                                <p class="text-gray-500 text-sm">30-day money-back guarantee • Instant download • Commercial license included</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

        </div>
    </div>
</div>


            <!-- Stats Section -->
            <section class="py-20 bg-gradient-to-r from-purple-600 to-blue-600">
                <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                    <div class="text-center mb-12">
                        <h2 class="text-3xl font-bold text-white mb-4">Our Impact Since 2026</h2>
                        <p class="text-purple-100">Building digital solutions that make a difference</p>
                    </div>
                    
                    <div class="grid md:grid-cols-4 gap-8 text-center">
                        <div>
                            <div class="text-4xl font-bold text-white mb-2">50+</div>
                            <div class="text-purple-100">Projects Completed</div>
                        </div>
                        <div>
                            <div class="text-4xl font-bold text-white mb-2">25+</div>
                            <div class="text-purple-100">Happy Clients</div>
                        </div>
                        <div>
                            <div class="text-4xl font-bold text-white mb-2">100+</div>
                            <div class="text-purple-100">Digital Assets</div>
                        </div>
                        <div>
                            <div class="text-4xl font-bold text-white mb-2">24/7</div>
                            <div class="text-purple-100">Support Available</div>
                        </div>
                    </div>
                </div>
            </section>
        </div>
        <!-- End About Page -->
<!-- End Product Detail Page -->
{% endblock %}
